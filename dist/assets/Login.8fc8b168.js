import{C,r as n,y as g,z as _,A as l,m as o,ai as k,B as c,ag as v}from"./index.e3c41793.js";import{t as f,V as y,a as p}from"./VTextField.69eb921b.js";import{V as S,a as B}from"./VSheet.62fd373f.js";import{_ as z}from"./_plugin-vue_export-helper.4e3b539c.js";import{f as V,b as M}from"./VBtn.92ee1e38.js";import{b as I,V as N}from"./VCard.6a571003.js";import{V as R}from"./VSpacer.c0b63cf6.js";import"./index.8da042d9.js";import"./VLabel.2460f9a8.js";const q={setup(h){const a=C(),d=n(!1),e=n(""),i=n(""),m=n(!1),t={required:r=>!!r||"Required.",min:r=>r.length>=8||"Min 8 characters",emailMatch:()=>"The email and password you entered don't match"},b=[r=>/^[a-z.-]+@[a-z.-]+\.[a-z]+$/i.test(r)?!0:"Must be a valid e-mail."];function w(){a.push("/register")}async function x(){let r=[];await B.get("http://localhost:3001/users").then(s=>{r=s.data});const u=r.find(s=>s.email===e.value&&s.password===i.value);u?(f("Login successful !!! !",{autoClose:2e3}),localStorage.setItem("user",u.username),a.push({name:"Booking"})):f.error("Invalid Credentials !!! !",{autoClose:2e3})}return{email:e,emailRules:b,form:d,onClick:w,onSubmit:x,password:i,rules:t,show1:m}}},A=v("br",null,null,-1);function T(h,a,d,e,i,m){return g(),_(S,{class:"bg-deep-purple pa-12",rounded:""},{default:l(()=>[o(N,{class:"mx-auto px-6 py-8","max-width":"344"},{default:l(()=>[o(y,{modelValue:e.form,"onUpdate:modelValue":a[3]||(a[3]=t=>e.form=t),onSubmit:k(e.onSubmit,["prevent"])},{default:l(()=>[o(p,{modelValue:e.email,"onUpdate:modelValue":a[0]||(a[0]=t=>e.email=t),rules:e.emailRules,class:"mb-2",clearable:"",label:"Email"},null,8,["modelValue","rules"]),o(p,{modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=t=>e.password=t),"append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.show1?"text":"password",label:"Normal with hint text",hint:"At least 8 characters",counter:"","onClick:append":a[2]||(a[2]=t=>e.show1=!e.show1)},null,8,["modelValue","append-icon","rules","type"]),A,o(V,{disabled:!e.form,block:"",color:"success",size:"large",type:"submit",variant:"elevated"},{default:l(()=>[c(" Sign In ")]),_:1},8,["disabled"])]),_:1},8,["modelValue","onSubmit"]),o(I,null,{default:l(()=>[o(R),o(V,{color:"error",onClick:e.onClick},{default:l(()=>[c(" Create an account "),o(M,{icon:"mdi-chevron-right",end:""})]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}const K=z(q,[["render",T]]);export{K as default};
